<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="mainScreen">
            <div class="header">
                <h1>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</h1>
                <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π</p>
            </div>
            
            <div class="card">
                <button class="btn btn-primary" onclick="showAddProductScreen()">
                    <i class="fas fa-plus-circle"></i>
                    –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
                </button>
                <button class="btn btn-secondary" onclick="showAnalyticsScreen()">
                    <i class="fas fa-chart-bar"></i>
                    –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-clock"></i>
                    <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–æ–≤–∞—Ä—ã</h2>
                </div>
                <div id="recentProducts" class="products-list">
                    <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
        <div id="addProductScreen" class="hidden">
            <button class="back-btn" onclick="showMainScreen()">
                <i class="fas fa-arrow-left"></i>
                –ù–∞–∑–∞–¥
            </button>
            
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-plus-circle"></i>
                    <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
                </div>
                
                <div id="successMessage" class="success-message hidden">
                    <i class="fas fa-check-circle"></i>
                    <span id="successText">–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!</span>
                </div>
                
                <form id="addProductForm">
                    <div class="form-group">
                        <label for="productName">
                            <i class="fas fa-tag"></i>
                            –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
                        </label>
                        <input type="text" id="productName" class="form-control" 
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: iPhone 13 Pro Max 256GB" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="productPrice">
                            <i class="fas fa-ruble-sign"></i>
                            –¶–µ–Ω–∞ (‚ÇΩ)
                        </label>
                        <input type="number" id="productPrice" class="form-control" 
                               placeholder="99999" required min="1">
                    </div>
                    
                    <div class="form-group">
                        <label for="productCategory">
                            <i class="fas fa-folder"></i>
                            –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                        </label>
                        <select id="productCategory" class="form-control">
                            <option value="auto">üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</option>
                            <option value="üì± –≠–õ–ï–ö–¢–†–û–ù–ò–ö–ê">üì± –≠–õ–ï–ö–¢–†–û–ù–ò–ö–ê</option>
                            <option value="üè† –ë–´–¢–û–í–ê–Ø –¢–ï–•–ù–ò–ö–ê">üè† –ë–´–¢–û–í–ê–Ø –¢–ï–•–ù–ò–ö–ê</option>
                            <option value="üëï –û–î–ï–ñ–î–ê –ò –û–ë–£–í–¨">üëï –û–î–ï–ñ–î–ê –ò –û–ë–£–í–¨</option>
                            <option value="üíÑ –ö–†–ê–°–û–¢–ê –ò –ó–î–û–†–û–í–¨–ï">üíÑ –ö–†–ê–°–û–¢–ê –ò –ó–î–û–†–û–í–¨–ï</option>
                            <option value="üéÆ –ò–ì–†–£–®–ö–ò –ò –•–û–ë–ë–ò">üéÆ –ò–ì–†–£–®–ö–ò –ò –•–û–ë–ë–ò</option>
                            <option value="üõã –î–û–ú –ò –°–ê–î">üõã –î–û–ú –ò –°–ê–î</option>
                            <option value="üë∂ –î–ï–¢–°–ö–ò–ï –¢–û–í–ê–†–´">üë∂ –î–ï–¢–°–ö–ò–ï –¢–û–í–ê–†–´</option>
                            <option value="üèÉ –°–ü–û–†–¢ –ò –û–¢–î–´–•">üèÉ –°–ü–û–†–¢ –ò –û–¢–î–´–•</option>
                            <option value="üöó –ê–í–¢–û–¢–û–í–ê–†–´">üöó –ê–í–¢–û–¢–û–í–ê–†–´</option>
                            <option value="üìö –ö–ù–ò–ì–ò –ò –ö–ê–ù–¶–¢–û–í–ê–†–´">üìö –ö–ù–ò–ì–ò –ò –ö–ê–ù–¶–¢–û–í–ê–†–´</option>
                            <option value="üêæ –ó–û–û–¢–û–í–ê–†–´">üêæ –ó–û–û–¢–û–í–ê–†–´</option>
                            <option value="üçé –ü–†–û–î–£–ö–¢–´ –ü–ò–¢–ê–ù–ò–Ø">üçé –ü–†–û–î–£–ö–¢–´ –ü–ò–¢–ê–ù–ò–Ø</option>
                            <option value="üéÅ –î–†–£–ì–û–ï">üéÅ –î–†–£–ì–û–ï</option>
                        </select>
                        <div id="autoDetectionPreview" class="auto-detection-preview hidden">
                            <i class="fas fa-robot"></i>
                            –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: <span id="detectedCategory"></span>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–≤–∞—Ä
                    </button>
                </form>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
        <div id="analyticsScreen" class="hidden">
            <button class="back-btn" onclick="showMainScreen()">
                <i class="fas fa-arrow-left"></i>
                –ù–∞–∑–∞–¥
            </button>
            
            <div class="header">
                <h1>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</h1>
                <p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö</p>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="switchTab('overview')">–û–±–∑–æ—Ä</button>
                <button class="tab" onclick="switchTab('categories')">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
                <button class="tab" onclick="switchTab('prices')">–¶–µ–Ω—ã</button>
                <button class="tab" onclick="switchTab('products')">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –û–±–∑–æ—Ä -->
            <div id="overviewTab" class="tab-content active">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-chart-pie"></i>
                        <h2>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="totalProducts">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="totalValue">0‚ÇΩ</div>
                            <div class="stat-label">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="avgPrice">0‚ÇΩ</div>
                            <div class="stat-label">–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="topCategory">-</div>
                            <div class="stat-label">–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                        </div>
                    </div>
                    
                    <div class="section-header">
                        <h3 class="section-title">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                    
                    <div class="section-header">
                        <h3 class="section-title">–î–∏–Ω–∞–º–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="timelineChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-table"></i>
                        <h2>–¢–æ–ø —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ —Ü–µ–Ω–µ</h2>
                    </div>
                    <div class="table-container">
                        <table class="table" id="topProductsTable">
                            <thead>
                                <tr>
                                    <th>–¢–æ–≤–∞—Ä</th>
                                    <th>–¶–µ–Ω–∞</th>
                                    <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            <div id="categoriesTab" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-chart-bar"></i>
                        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h2>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="categoryBarChart"></canvas>
                    </div>
                    
                    <div class="chart-small">
                        <canvas id="priceByCategoryChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-list"></i>
                        <h2>–î–µ—Ç–∞–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h2>
                    </div>
                    <div class="table-container">
                        <table class="table" id="categoriesTable">
                            <thead>
                                <tr>
                                    <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                    <th>–¢–æ–≤–∞—Ä—ã</th>
                                    <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
                                    <th>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –¶–µ–Ω—ã -->
            <div id="pricesTab" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-chart-line"></i>
                        <h2>–ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω</h2>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="priceDistributionChart"></canvas>
                    </div>
                    
                    <div class="chart-small">
                        <canvas id="monthlyTrendChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-percentage"></i>
                        <h2>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω</h2>
                    </div>
                    <div class="table-container">
                        <table class="table" id="priceRangesTable">
                            <thead>
                                <tr>
                                    <th>–î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω</th>
                                    <th>–ö–æ–ª-–≤–æ —Ç–æ–≤–∞—Ä–æ–≤</th>
                                    <th>% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –í—Å–µ —Ç–æ–≤–∞—Ä—ã -->
            <div id="productsTab" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-boxes"></i>
                        <h2>–í—Å–µ —Ç–æ–≤–∞—Ä—ã</h2>
                    </div>
                    <div class="table-container" style="max-height: 500px;">
                        <table class="table" id="allProductsTable">
                            <thead>
                                <tr>
                                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th>–¶–µ–Ω–∞</th>
                                    <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                    <th>–î–∞—Ç–∞</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="card">
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-secondary" onclick="exportToCSV()" style="flex: 1;">
                        <i class="fas fa-file-export"></i>
                        –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
                    </button>
                    <button class="btn btn-secondary" onclick="clearAllData()" style="flex: 1; background: rgba(239, 68, 68, 0.1); color: var(--danger); border-color: var(--danger);">
                        <i class="fas fa-trash"></i>
                        –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
